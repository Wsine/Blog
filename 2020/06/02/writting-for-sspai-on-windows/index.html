<!DOCTYPE html>
<html data-html-server-rendered="true" lang="en" data-vue-tag="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <title>Windows平台下的少数派新写稿流程 - Wsine&#x27;s Blog</title><meta name="gridsome:hash" content="8103612fff5ef0c89ce79e17d3acf7f030a00018"><meta data-vue-tag="ssr" charset="utf-8"><meta data-vue-tag="ssr" name="generator" content="Gridsome v0.7.22"><meta data-vue-tag="ssr" data-key="viewport" name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"><meta data-vue-tag="ssr" data-key="format-detection" name="format-detection" content="telephone=no"><meta data-vue-tag="ssr" data-key="description" name="description" content="爱分享爱写文章的科研狗"><meta data-vue-tag="ssr" name="description" content="谈及写作，不少的用户都是使用 Mac 平台配合多样的 App 完成从写稿到发布的一条龙服务"><link data-vue-tag="ssr" rel="icon" href="data:,"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="16x16" href="/assets/static/favicon.ce0531f.dfeafdedd5ee5b15ecb73b0b3d907b4a.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="32x32" href="/assets/static/favicon.ac8d93a.dfeafdedd5ee5b15ecb73b0b3d907b4a.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="96x96" href="/assets/static/favicon.b9532cc.dfeafdedd5ee5b15ecb73b0b3d907b4a.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="76x76" href="/assets/static/favicon.f22e9f3.dfeafdedd5ee5b15ecb73b0b3d907b4a.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="152x152" href="/assets/static/favicon.62d22cb.dfeafdedd5ee5b15ecb73b0b3d907b4a.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="120x120" href="/assets/static/favicon.1539b60.dfeafdedd5ee5b15ecb73b0b3d907b4a.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="167x167" href="/assets/static/favicon.dc0cdc5.dfeafdedd5ee5b15ecb73b0b3d907b4a.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="180x180" href="/assets/static/favicon.7b22250.dfeafdedd5ee5b15ecb73b0b3d907b4a.png"><link rel="preload" href="/assets/css/0.styles.b02cfff8.css" as="style"><link rel="preload" href="/assets/js/app.2b7006c1.js" as="script"><link rel="preload" href="/assets/js/page--src--templates--post-vue.ae439845.js" as="script"><link rel="prefetch" href="/assets/js/page--node-modules--gridsome--app--pages--404-vue.b9578e54.js"><link rel="prefetch" href="/assets/js/page--src--pages--index-vue.cad3a828.js"><link rel="prefetch" href="/assets/js/page--src--templates--tag-vue.0097a1c0.js"><link rel="stylesheet" href="/assets/css/0.styles.b02cfff8.css"><noscript data-vue-tag="ssr"><style>.g-image--loading{display:none;}</style></noscript>
  </head>
  <body >
    <script>
      // Add dark / light detection that runs before Vue.js load. Borrowed from overreacted.io
      (function () {
        window.__onThemeChange = function () {};
        function setTheme(newTheme) {
          window.__theme = newTheme;
          preferredTheme = newTheme;
          document.body.setAttribute("data-theme", newTheme);
          window.__onThemeChange(newTheme);
        }

        var preferredTheme;
        try {
          preferredTheme = localStorage.getItem("theme");
        } catch (err) {}

        window.__setPreferredTheme = function (newTheme) {
          setTheme(newTheme);
          try {
            localStorage.setItem("theme", newTheme);
          } catch (err) {}
        };

        var darkQuery = window.matchMedia("(prefers-color-scheme: dark)");
        darkQuery.addListener(function (e) {
          window.__setPreferredTheme(e.matches ? "dark" : "light");
        });

        setTheme(preferredTheme || (darkQuery.matches ? "dark" : "light"));
      })();
    </script>

    <div id="app" data-server-rendered="true"><header class="header"><div class="header__left"><a href="/" class="logo active"><span class="logo__text"> ⇐ Back to Home </span></a></div><div class="header__right"><button role="button" aria-label="Toggle dark/light" class="toggle-theme"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg></button></div></header><main class="main"><div class="post-title"><h1 class="post-title__text">
      Windows平台下的少数派新写稿流程
    </h1><div class="post-meta">
  Posted 2. June 2020.
  <!----></div></div><div class="post content-box"><div class="post__header"><img alt="Cover image" src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 1280 639' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-8c0bf58610e7390da112bd0d9144dd5e'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='10'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-8c0bf58610e7390da112bd0d9144dd5e)' width='1280' height='639' xlink:href='data:image/jpeg%3bbase64%2c/9j/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAAgAEADASIAAhEBAxEB/8QAGgABAQEAAwEAAAAAAAAAAAAABwYFAQIDCP/EADMQAAEDAgMGBAQGAwAAAAAAAAECAwQFEQAGIQcSEzFBURQiYXEjM1KCCBYlMkKBkaHB/8QAFwEBAQEBAAAAAAAAAAAAAAAAAgABA//EAB4RAAMAAgIDAQAAAAAAAAAAAAABAgMREiETIjFB/9oADAMBAAIRAxEAPwCRq9Nze1Pcbo9NrLjThBYcZjKUhaTrcG1iMaOVIedGq5HFah1ONHbbUp3xEYpStX8Re2PoLZVOMrJFOKjdTSS0ftOLRty4te%2bJ4pc/BeWk/oWZflyElI0Ceov/AMwh0wMyGhx2WHPRSATjRVHju/MZaV7oGJraJWRljKUyVTmQak9aLBbTqVvueVFh6aq9k4E4mnoqyciJ2mVKjLchO0xcZAK32FFACQpTagCR3ANxfuDjCytOjuutMsWSCd21%2bpOM7aPkBiTR8rRE1hERMKOqMZCrFpxxR31E2GhKidccZS2FVREhiVIzMy5DCgtJioK98A/UTbCrlrSNSn9YzO5JjqN2pbgv3SDidqWzCVIkOPNVNkqVyC2iLDtocJrDNkJBUq4AGPcJA74PAldAJsJrKhBdo8pJS60C8k3uDc62wwIeAF9MBeyh%2bHEd40h5KH3W%2bCi%2bm7rc/wCdMINQzDHjRZAhSkrlFJCFJSXEpV0JA547Q/UFrs67Vc%2b/lamNRoY/UpqVBpwkBLCeRcN%2bZ7Dv7YDc15qzFV/BSas8KlToSuIFtJ3VMqUndKlAHXTqD16YsZ8WHKYkPPtJqUxw/EkS7LWs/SSf2egAsMEUxoUKpocjKUimSyQgqF%2bCsaFCh1GpBHUY51Q5Q67Dak3N49AdjQnqYtCpPxfMsqNrWB5gjXli1qGWotDdfn0CryKOLWLW8FRivoCk3JJ%2bkXPbBt%2bH2IhyuT1sKiIegscBTTjhKkb6rgpsNRoeo0UMMdNorolGdOkiTM1CeJb4Cb8m0p8qAR1HmPU4yHpG5Htkc3tUm0GSY2dKFMjNBW6mey0Q2sd7HT%2br39BivjbRMpyIXi0V%2bAlocw45uLHuk2V/rGo%2b2qQ2ppbbbjKhZSDYpPuDzwe1zZDlioTPEtsS6eVfMbhulptevaxA%2b22LsHR//9k=' /%3e%3c/svg%3e" width="1280" data-src="/assets/static/writting-for-sspai-on-windows.a209973.bcf36126e162a7d610effe869dc8b8c1.jpg" data-srcset="/assets/static/writting-for-sspai-on-windows.a67b0b2.bcf36126e162a7d610effe869dc8b8c1.jpg 480w, /assets/static/writting-for-sspai-on-windows.a209973.bcf36126e162a7d610effe869dc8b8c1.jpg 1280w" data-sizes="(max-width: 1280px) 100vw, 1280px" class="g-image g-image--lazy g-image--loading"><noscript><img src="/assets/static/writting-for-sspai-on-windows.a209973.bcf36126e162a7d610effe869dc8b8c1.jpg" class="g-image g-image--loaded" width="1280" alt="Cover image"></noscript></div><div class="post__content"><p>谈及写作，不少的用户都是使用 Mac 平台配合多样的 App 完成从写稿到发布的一条龙服务。但是在 Windows 平台上，往往需要很多手动的过程。比如，在少数派平台上，官方提供了专用的接口给 MWeb App 完成从写稿、插图、发布的完善服务，但是 MWeb App 仅在 Mac 平台上提供，Windows 用户常常因为插图图床问题困扰。</p>
<p>最近，随着两大写作好伴侣 App 的更新，这一情况得以改善。PicGo 迎来了 v2.0 版本的大更新，剥离了核心功能同时支持 CLI 调用和 API 调用。Typora 集成了 PicGo 并提供一键上传图片服务。如果需要更详细的资料，请看这两篇文章：</p>
<p><a href="https://sspai.com/post/52527" target="_blank" rel="nofollow noopener noreferrer">图床「神器」PicGo v2.0更新，插件系统终于来了</a></p>
<p><a href="https://sspai.com/post/59128" target="_blank" rel="nofollow noopener noreferrer">Typora 支持自定义图片上传服务了</a></p>
<p>配合上述两大神器，是否有方法能够改善少数派平台上的写作流程，下面我就来谈谈我的方案。</p>
<h2 id="typora-之功能增强"><a href="#typora-%E4%B9%8B%E5%8A%9F%E8%83%BD%E5%A2%9E%E5%BC%BA" aria-hidden="true"><span class="icon icon-link"></span></a>Typora 之功能增强</h2>
<p>首先，从 Typora 官网上能够下载 Win / Linux / OSX 对应平台的安装文件并正确安装。</p>
<p>然后，我们需要启用图片上传功能。点击 File -> Preferences -> Image，在 Image Upload Setting 那栏，选择 PicGo-Core (command line) ，然后点击 Download and Upgrade，即可完成安装。</p>
<p><img src="https://wsine.cn-gd.ufileos.com/image/628cb7601505f1aaf9d736a4f59f68a6.png" alt="enhance"></p>
<h2 id="picgo-之少数派插件"><a href="#picgo-%E4%B9%8B%E5%B0%91%E6%95%B0%E6%B4%BE%E6%8F%92%E4%BB%B6" aria-hidden="true"><span class="icon icon-link"></span></a>PicGo 之少数派插件</h2>
<p>得益于 PicGo 的插件系统，我们可以为少数派平台编写插件，快捷完成图片上传到少数派的服务器。那么，如何安装少数派插件？</p>
<p>步骤一</p>
<p>首先我们打开 PicGo 配置文件所在的目录，你可以点击上图的 Open Config File 按钮，或者手动打开对应平台的文件夹。</p>
<p>Windows 平台位于<code class="language-text">C:\Users\&lt;your username&gt;\.picgo\</code></p>
<p>Linux 和 OSX 平台位于`~/.picgo/<code class="language-text"></code></p>
<p>然后，克隆或下载<a href="https://github.com/Wsine/picgo-plugin-sspai" target="_blank" rel="nofollow noopener noreferrer">github.com/Wsine/picgo-plugin-sspai</a>仓库到该文件夹中，注意如果从网页端下载，解压后去除多余的分支名，这很重要。</p>
<p>步骤二</p>
<p>在 PicGo 配置文件夹下创建<code class="language-text">node_modules</code>文件夹，并在里面创建同名快捷方式/软链接，指向刚才下载的仓库文件夹。</p>
<p>步骤三</p>
<p>编辑`package.json<code class="language-text"></code>文件，修改里面的依赖项。</p>
<pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"dependencies"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"picgo-plugin-sspai"</span><span class="token operator">:</span> <span class="token string">"file:picgo-plugin-sspai"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<p>步骤四</p>
<p>创建`package-lock.json<code class="language-text"></code>，内容填充如下：</p>
<pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"picgo-plugins"</span><span class="token punctuation">,</span>
  <span class="token property">"requires"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">"lockfileVersion"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token property">"dependencies"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"picgo-plugin-sspai"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"version"</span><span class="token operator">:</span> <span class="token string">"file:picgo-plugin-sspai"</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<p>验证</p>
<p>最终配置文件夹中的目录结构如应如下图所示</p>
<pre class="language-text"><code class="language-text">~/.picgo &gt; tree
.
├── config.json
├── node_modules
│   └── picgo-plugin-sspai &lt;soft link&gt;
├── package.json
├── package-lock.json
├── picgo.log
└── picgo-plugin-sspai
    ├── index.js
    ├── License
    ├── md5.min.js
    ├── package.json
    └── README.md</code></pre>
<h2 id="配置个人信息"><a href="#%E9%85%8D%E7%BD%AE%E4%B8%AA%E4%BA%BA%E4%BF%A1%E6%81%AF" aria-hidden="true"><span class="icon icon-link"></span></a>配置个人信息</h2>
<p>打开少数派官网，登陆自己的账号，然后按F12打开开发者模式，找到 Console 选项卡，输入</p>
<p>`document.cookie.split('; sspai_cross_token=').pop().split(';').shift()<code class="language-text"></code></p>
<p>该命令会返回一串字符串，记住该字符串，并重新在 Typora 中打开 PicGo 的配置文件，替换下面样例的 token 占位符，保存</p>
<pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"picBed"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"current"</span><span class="token operator">:</span> <span class="token string">"sspai"</span><span class="token punctuation">,</span>
    <span class="token property">"uploader"</span><span class="token operator">:</span> <span class="token string">"sspai"</span><span class="token punctuation">,</span>
    <span class="token property">"transformer"</span><span class="token operator">:</span> <span class="token string">"base64"</span><span class="token punctuation">,</span>
    <span class="token property">"sspai"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"cross_token"</span><span class="token operator">:</span> <span class="token string">"&lt;replace here>"</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">"picgoPlugins"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"picgo-plugin-sspai"</span><span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<p>好了，至此为止，你已完成了全部的配置，那么来看看效果如何吧。</p>
<h2 id="样例效果"><a href="#%E6%A0%B7%E4%BE%8B%E6%95%88%E6%9E%9C" aria-hidden="true"><span class="icon icon-link"></span></a>样例效果</h2>
<p>我们就以本文作为目标图片展示一下该写作流程的优化吧，通过菜单栏的 Format -> Image -> Upload All Local Images 能够一键上传该文章下面的全部图片，也可以通过右击图片的方式单张图片上传</p>
<p><img src="https://wsine.cn-gd.ufileos.com/image/4472f6471191c61072d1e54de3f941d9.gif" alt="example"></p>
<p>最后，打开少数派网站的编辑器，复制全文富文本格式进去，即可完成发布流程。</p>
<h2 id="后记"><a href="#%E5%90%8E%E8%AE%B0" aria-hidden="true"><span class="icon icon-link"></span></a>后记</h2>
<p>该插件的开发仅仅是为了方便用户在少数派平台上写作而创作。图床，一直是流量消耗的大户，目前少数派的图床仅能在 sspai.com 域名下显示，也即启用的防盗链技术，如有别的用途的用户就不用折腾啦。</p>
<p>等后续的 Typora 更新了发布功能，我会再来优化该流程。那么，希望这个插件能帮得到大家。</p>
</div><div class="post__footer"><div class="post-tags"><a href="/tag/Windows/" class="post-tags__link"><span>#</span> Windows
  </a><a href="/tag/Solution/" class="post-tags__link"><span>#</span> Solution
  </a><a href="/tag/SSPAI/" class="post-tags__link"><span>#</span> SSPAI
  </a></div></div></div><div class="post-comments"></div></main><footer class="footer"><div><span class="footer__copyright">
        Copyright © 2019-2021. |
      </span><span class="footer__links">
        CC <a href="//creativecommons.org/licenses/by-nc-sa/4.0/deed.en">BY-NC-SA 4.0</a>.
      </span></div><div><span class="footer__links">
        Powered by <a href="//gridsome.org">Gridsome</a>.
      </span><span class="footer__links">
        Deployed on <a href="//wsine.github.io/blog">Github Pages</a>.
      </span></div></footer></div> <script>window.__INITIAL_STATE__={"data":{"post":{"title":"Windows平台下的少数派新写稿流程","path":"\u002F2020\u002F06\u002F02\u002Fwritting-for-sspai-on-windows\u002F","date":"2. June 2020","timeToRead":1,"tags":[{"id":"Windows","title":"Windows","path":"\u002Ftag\u002FWindows\u002F"},{"id":"Solution","title":"Solution","path":"\u002Ftag\u002FSolution\u002F"},{"id":"SSPAI","title":"SSPAI","path":"\u002Ftag\u002FSSPAI\u002F"}],"description":"谈及写作，不少的用户都是使用 Mac 平台配合多样的 App 完成从写稿到发布的一条龙服务","content":"\u003Cp\u003E谈及写作，不少的用户都是使用 Mac 平台配合多样的 App 完成从写稿到发布的一条龙服务。但是在 Windows 平台上，往往需要很多手动的过程。比如，在少数派平台上，官方提供了专用的接口给 MWeb App 完成从写稿、插图、发布的完善服务，但是 MWeb App 仅在 Mac 平台上提供，Windows 用户常常因为插图图床问题困扰。\u003C\u002Fp\u003E\n\u003Cp\u003E最近，随着两大写作好伴侣 App 的更新，这一情况得以改善。PicGo 迎来了 v2.0 版本的大更新，剥离了核心功能同时支持 CLI 调用和 API 调用。Typora 集成了 PicGo 并提供一键上传图片服务。如果需要更详细的资料，请看这两篇文章：\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fsspai.com\u002Fpost\u002F52527\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003E图床「神器」PicGo v2.0更新，插件系统终于来了\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fsspai.com\u002Fpost\u002F59128\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003ETypora 支持自定义图片上传服务了\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E配合上述两大神器，是否有方法能够改善少数派平台上的写作流程，下面我就来谈谈我的方案。\u003C\u002Fp\u003E\n\u003Ch2 id=\"typora-之功能增强\"\u003E\u003Ca href=\"#typora-%E4%B9%8B%E5%8A%9F%E8%83%BD%E5%A2%9E%E5%BC%BA\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003ETypora 之功能增强\u003C\u002Fh2\u003E\n\u003Cp\u003E首先，从 Typora 官网上能够下载 Win \u002F Linux \u002F OSX 对应平台的安装文件并正确安装。\u003C\u002Fp\u003E\n\u003Cp\u003E然后，我们需要启用图片上传功能。点击 File -\u003E Preferences -\u003E Image，在 Image Upload Setting 那栏，选择 PicGo-Core (command line) ，然后点击 Download and Upgrade，即可完成安装。\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fwsine.cn-gd.ufileos.com\u002Fimage\u002F628cb7601505f1aaf9d736a4f59f68a6.png\" alt=\"enhance\"\u003E\u003C\u002Fp\u003E\n\u003Ch2 id=\"picgo-之少数派插件\"\u003E\u003Ca href=\"#picgo-%E4%B9%8B%E5%B0%91%E6%95%B0%E6%B4%BE%E6%8F%92%E4%BB%B6\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EPicGo 之少数派插件\u003C\u002Fh2\u003E\n\u003Cp\u003E得益于 PicGo 的插件系统，我们可以为少数派平台编写插件，快捷完成图片上传到少数派的服务器。那么，如何安装少数派插件？\u003C\u002Fp\u003E\n\u003Cp\u003E步骤一\u003C\u002Fp\u003E\n\u003Cp\u003E首先我们打开 PicGo 配置文件所在的目录，你可以点击上图的 Open Config File 按钮，或者手动打开对应平台的文件夹。\u003C\u002Fp\u003E\n\u003Cp\u003EWindows 平台位于\u003Ccode class=\"language-text\"\u003EC:\\Users\\&lt;your username&gt;\\.picgo\\\u003C\u002Fcode\u003E\u003C\u002Fp\u003E\n\u003Cp\u003ELinux 和 OSX 平台位于`~\u002F.picgo\u002F\u003Ccode class=\"language-text\"\u003E\u003C\u002Fcode\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E然后，克隆或下载\u003Ca href=\"https:\u002F\u002Fgithub.com\u002FWsine\u002Fpicgo-plugin-sspai\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003Egithub.com\u002FWsine\u002Fpicgo-plugin-sspai\u003C\u002Fa\u003E仓库到该文件夹中，注意如果从网页端下载，解压后去除多余的分支名，这很重要。\u003C\u002Fp\u003E\n\u003Cp\u003E步骤二\u003C\u002Fp\u003E\n\u003Cp\u003E在 PicGo 配置文件夹下创建\u003Ccode class=\"language-text\"\u003Enode_modules\u003C\u002Fcode\u003E文件夹，并在里面创建同名快捷方式\u002F软链接，指向刚才下载的仓库文件夹。\u003C\u002Fp\u003E\n\u003Cp\u003E步骤三\u003C\u002Fp\u003E\n\u003Cp\u003E编辑`package.json\u003Ccode class=\"language-text\"\u003E\u003C\u002Fcode\u003E文件，修改里面的依赖项。\u003C\u002Fp\u003E\n\u003Cpre class=\"language-json\"\u003E\u003Ccode class=\"language-json\"\u003E\u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n  \u003Cspan class=\"token property\"\u003E\"dependencies\"\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token property\"\u003E\"picgo-plugin-sspai\"\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E\"file:picgo-plugin-sspai\"\u003C\u002Fspan\u003E\n  \u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\n\u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003E步骤四\u003C\u002Fp\u003E\n\u003Cp\u003E创建`package-lock.json\u003Ccode class=\"language-text\"\u003E\u003C\u002Fcode\u003E，内容填充如下：\u003C\u002Fp\u003E\n\u003Cpre class=\"language-json\"\u003E\u003Ccode class=\"language-json\"\u003E\u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n  \u003Cspan class=\"token property\"\u003E\"name\"\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E\"picgo-plugins\"\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n  \u003Cspan class=\"token property\"\u003E\"requires\"\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"token boolean\"\u003Etrue\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n  \u003Cspan class=\"token property\"\u003E\"lockfileVersion\"\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"token number\"\u003E1\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n  \u003Cspan class=\"token property\"\u003E\"dependencies\"\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token property\"\u003E\"picgo-plugin-sspai\"\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n      \u003Cspan class=\"token property\"\u003E\"version\"\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E\"file:picgo-plugin-sspai\"\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\n  \u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\n\u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003E验证\u003C\u002Fp\u003E\n\u003Cp\u003E最终配置文件夹中的目录结构如应如下图所示\u003C\u002Fp\u003E\n\u003Cpre class=\"language-text\"\u003E\u003Ccode class=\"language-text\"\u003E~\u002F.picgo &gt; tree\n.\n├── config.json\n├── node_modules\n│   └── picgo-plugin-sspai &lt;soft link&gt;\n├── package.json\n├── package-lock.json\n├── picgo.log\n└── picgo-plugin-sspai\n    ├── index.js\n    ├── License\n    ├── md5.min.js\n    ├── package.json\n    └── README.md\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Ch2 id=\"配置个人信息\"\u003E\u003Ca href=\"#%E9%85%8D%E7%BD%AE%E4%B8%AA%E4%BA%BA%E4%BF%A1%E6%81%AF\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E配置个人信息\u003C\u002Fh2\u003E\n\u003Cp\u003E打开少数派官网，登陆自己的账号，然后按F12打开开发者模式，找到 Console 选项卡，输入\u003C\u002Fp\u003E\n\u003Cp\u003E`document.cookie.split('; sspai_cross_token=').pop().split(';').shift()\u003Ccode class=\"language-text\"\u003E\u003C\u002Fcode\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E该命令会返回一串字符串，记住该字符串，并重新在 Typora 中打开 PicGo 的配置文件，替换下面样例的 token 占位符，保存\u003C\u002Fp\u003E\n\u003Cpre class=\"language-json\"\u003E\u003Ccode class=\"language-json\"\u003E\u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n  \u003Cspan class=\"token property\"\u003E\"picBed\"\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token property\"\u003E\"current\"\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E\"sspai\"\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token property\"\u003E\"uploader\"\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E\"sspai\"\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token property\"\u003E\"transformer\"\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E\"base64\"\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token property\"\u003E\"sspai\"\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n      \u003Cspan class=\"token property\"\u003E\"cross_token\"\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E\"&lt;replace here\u003E\"\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\n  \u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n  \u003Cspan class=\"token property\"\u003E\"picgoPlugins\"\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token property\"\u003E\"picgo-plugin-sspai\"\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"token boolean\"\u003Etrue\u003C\u002Fspan\u003E\n  \u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\n\u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003E好了，至此为止，你已完成了全部的配置，那么来看看效果如何吧。\u003C\u002Fp\u003E\n\u003Ch2 id=\"样例效果\"\u003E\u003Ca href=\"#%E6%A0%B7%E4%BE%8B%E6%95%88%E6%9E%9C\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E样例效果\u003C\u002Fh2\u003E\n\u003Cp\u003E我们就以本文作为目标图片展示一下该写作流程的优化吧，通过菜单栏的 Format -\u003E Image -\u003E Upload All Local Images 能够一键上传该文章下面的全部图片，也可以通过右击图片的方式单张图片上传\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fwsine.cn-gd.ufileos.com\u002Fimage\u002F4472f6471191c61072d1e54de3f941d9.gif\" alt=\"example\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E最后，打开少数派网站的编辑器，复制全文富文本格式进去，即可完成发布流程。\u003C\u002Fp\u003E\n\u003Ch2 id=\"后记\"\u003E\u003Ca href=\"#%E5%90%8E%E8%AE%B0\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E后记\u003C\u002Fh2\u003E\n\u003Cp\u003E该插件的开发仅仅是为了方便用户在少数派平台上写作而创作。图床，一直是流量消耗的大户，目前少数派的图床仅能在 sspai.com 域名下显示，也即启用的防盗链技术，如有别的用途的用户就不用折腾啦。\u003C\u002Fp\u003E\n\u003Cp\u003E等后续的 Typora 更新了发布功能，我会再来优化该流程。那么，希望这个插件能帮得到大家。\u003C\u002Fp\u003E\n","cover_image":{"type":"image","mimeType":"image\u002Fjpeg","src":"\u002Fassets\u002Fstatic\u002Fwritting-for-sspai-on-windows.a209973.bcf36126e162a7d610effe869dc8b8c1.jpg","size":{"width":1280,"height":639},"sizes":"(max-width: 1280px) 100vw, 1280px","srcset":["\u002Fassets\u002Fstatic\u002Fwritting-for-sspai-on-windows.a67b0b2.bcf36126e162a7d610effe869dc8b8c1.jpg 480w","\u002Fassets\u002Fstatic\u002Fwritting-for-sspai-on-windows.a209973.bcf36126e162a7d610effe869dc8b8c1.jpg 1280w"],"dataUri":"data:image\u002Fsvg+xml,%3csvg fill='none' viewBox='0 0 1280 639' xmlns='http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg' xmlns:xlink='http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-8c0bf58610e7390da112bd0d9144dd5e'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='10'\u002F%3e%3c\u002Ffilter%3e%3c\u002Fdefs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-8c0bf58610e7390da112bd0d9144dd5e)' width='1280' height='639' xlink:href='data:image\u002Fjpeg%3bbase64%2c\u002F9j\u002F2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj\u002F2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj\u002FwAARCAAgAEADASIAAhEBAxEB\u002F8QAGgABAQEAAwEAAAAAAAAAAAAABwYFAQIDCP\u002FEADMQAAEDAgMGBAQGAwAAAAAAAAECAwQFEQAGIQcSEzFBURQiYXEjM1KCCBYlMkKBkaHB\u002F8QAFwEBAQEBAAAAAAAAAAAAAAAAAgABA\u002F\u002FEAB4RAAMAAgIDAQAAAAAAAAAAAAABAgMREiETIjFB\u002F9oADAMBAAIRAxEAPwCRq9Nze1Pcbo9NrLjThBYcZjKUhaTrcG1iMaOVIedGq5HFah1ONHbbUp3xEYpStX8Re2PoLZVOMrJFOKjdTSS0ftOLRty4te%2bJ4pc\u002FBeWk\u002FoWZflyElI0Ceov\u002FAMwh0wMyGhx2WHPRSATjRVHju\u002FMZaV7oGJraJWRljKUyVTmQak9aLBbTqVvueVFh6aq9k4E4mnoqyciJ2mVKjLchO0xcZAK32FFACQpTagCR3ANxfuDjCytOjuutMsWSCd21%2bpOM7aPkBiTR8rRE1hERMKOqMZCrFpxxR31E2GhKidccZS2FVREhiVIzMy5DCgtJioK98A\u002FUTbCrlrSNSn9YzO5JjqN2pbgv3SDidqWzCVIkOPNVNkqVyC2iLDtocJrDNkJBUq4AGPcJA74PAldAJsJrKhBdo8pJS60C8k3uDc62wwIeAF9MBeyh%2bHEd40h5KH3W%2bCi%2bm7rc\u002FwCdMINQzDHjRZAhSkrlFJCFJSXEpV0JA547Q\u002FUFrs67Vc%2b\u002FlamNRoY\u002FUpqVBpwkBLCeRcN%2bZ7Dv7YDc15qzFV\u002FBSas8KlToSuIFtJ3VMqUndKlAHXTqD16YsZ8WHKYkPPtJqUxw\u002FEkS7LWs\u002FSSf2egAsMEUxoUKpocjKUimSyQgqF%2bCsaFCh1GpBHUY51Q5Q67Dak3N49AdjQnqYtCpPxfMsqNrWB5gjXli1qGWotDdfn0CryKOLWLW8FRivoCk3JJ%2bkXPbBt%2bH2IhyuT1sKiIegscBTTjhKkb6rgpsNRoeo0UMMdNorolGdOkiTM1CeJb4Cb8m0p8qAR1HmPU4yHpG5Htkc3tUm0GSY2dKFMjNBW6mey0Q2sd7HT%2br39BivjbRMpyIXi0V%2bAlocw45uLHuk2V\u002FrGo%2b2qQ2ppbbbjKhZSDYpPuDzwe1zZDlioTPEtsS6eVfMbhulptevaxA%2b22LsHR\u002F\u002F9k=' \u002F%3e%3c\u002Fsvg%3e"}}},"context":{}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script><script src="/assets/js/app.2b7006c1.js" defer></script><script src="/assets/js/page--src--templates--post-vue.ae439845.js" defer></script>
  </body>
</html>
